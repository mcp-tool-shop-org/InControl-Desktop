<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="InControl.App.Controls.StatusStrip"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Grid Height="28"
          Background="{ThemeResource LayerFillColorDefaultBrush}"
          BorderBrush="{ThemeResource DividerStrokeColorDefaultBrush}"
          BorderThickness="0,1,0,0"
          Padding="12,0">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>

        <!-- Left Side Status Items -->
        <StackPanel Grid.Column="0"
                    Orientation="Horizontal"
                    Spacing="16"
                    VerticalAlignment="Center">

            <!-- Model Status -->
            <Button x:Name="ModelStatusButton"
                    Padding="4,2"
                    Background="Transparent"
                    BorderThickness="0"
                    ToolTipService.ToolTip="Click to open Model Manager">
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <FontIcon x:Name="ModelIcon"
                              Glyph="&#xE8F1;"
                              FontSize="12"
                              Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    <TextBlock x:Name="ModelText"
                               Text="No model"
                               Style="{StaticResource CaptionTextBlockStyle}"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                </StackPanel>
            </Button>

            <!-- Separator -->
            <Rectangle Width="1" Height="14"
                       Fill="{ThemeResource DividerStrokeColorDefaultBrush}" />

            <!-- Device Status -->
            <Button x:Name="DeviceStatusButton"
                    Padding="4,2"
                    Background="Transparent"
                    BorderThickness="0"
                    ToolTipService.ToolTip="Click to view GPU details">
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <FontIcon x:Name="DeviceIcon"
                              Glyph="&#xE950;"
                              FontSize="12"
                              Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    <TextBlock x:Name="DeviceText"
                               Text="GPU"
                               Style="{StaticResource CaptionTextBlockStyle}"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                </StackPanel>
            </Button>

            <!-- Separator -->
            <Rectangle Width="1" Height="14"
                       Fill="{ThemeResource DividerStrokeColorDefaultBrush}" />

            <!-- Connectivity Status -->
            <Button x:Name="ConnectivityButton"
                    Padding="4,2"
                    Background="Transparent"
                    BorderThickness="0"
                    ToolTipService.ToolTip="Click to manage connectivity">
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <FontIcon x:Name="ConnectivityIcon"
                              Glyph="&#xE701;"
                              FontSize="12"
                              Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    <TextBlock x:Name="ConnectivityText"
                               Text="Online"
                               Style="{StaticResource CaptionTextBlockStyle}"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                </StackPanel>
            </Button>

            <!-- Policy Lock (shown when policy is active) -->
            <Button x:Name="PolicyButton"
                    Padding="4,2"
                    Background="Transparent"
                    BorderThickness="0"
                    Visibility="Collapsed"
                    ToolTipService.ToolTip="Policy is active">
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <FontIcon Glyph="&#xE72E;"
                              FontSize="12"
                              Foreground="{ThemeResource SystemFillColorCautionBrush}" />
                    <TextBlock Text="Policy"
                               Style="{StaticResource CaptionTextBlockStyle}"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                </StackPanel>
            </Button>
        </StackPanel>

        <!-- Right Side Status Items -->
        <StackPanel Grid.Column="1"
                    Orientation="Horizontal"
                    Spacing="16"
                    VerticalAlignment="Center">

            <!-- Assistant Status -->
            <Button x:Name="AssistantButton"
                    Padding="4,2"
                    Background="Transparent"
                    BorderThickness="0"
                    ToolTipService.ToolTip="Assistant status">
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <Ellipse x:Name="AssistantIndicator"
                             Width="6" Height="6"
                             Fill="{ThemeResource SystemFillColorSuccessBrush}"
                             VerticalAlignment="Center" />
                    <TextBlock x:Name="AssistantText"
                               Text="Assistant"
                               Style="{StaticResource CaptionTextBlockStyle}"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                </StackPanel>
            </Button>

            <!-- Separator -->
            <Rectangle Width="1" Height="14"
                       Fill="{ThemeResource DividerStrokeColorDefaultBrush}" />

            <!-- Memory Usage (optional) -->
            <Button x:Name="MemoryButton"
                    Padding="4,2"
                    Background="Transparent"
                    BorderThickness="0"
                    Visibility="Collapsed"
                    ToolTipService.ToolTip="Memory usage">
                <StackPanel Orientation="Horizontal" Spacing="6">
                    <FontIcon Glyph="&#xEBFC;"
                              FontSize="12"
                              Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                    <TextBlock x:Name="MemoryText"
                               Text="4.2 GB"
                               Style="{StaticResource CaptionTextBlockStyle}"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}" />
                </StackPanel>
            </Button>
        </StackPanel>
    </Grid>
</UserControl>
