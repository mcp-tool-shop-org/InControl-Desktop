<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="Volt.App.Controls.ConversationView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Volt.App.Controls">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- Message List / Welcome State -->
        <Grid Grid.Row="0">
            <!-- Welcome State (shown when no session active) -->
            <StackPanel x:Name="WelcomeState"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Spacing="16"
                        Visibility="Visible">
                <FontIcon Glyph="&#xE8BD;"
                          FontSize="48"
                          Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                          HorizontalAlignment="Center" />

                <TextBlock Text="Welcome to Volt"
                           Style="{StaticResource SubtitleTextBlockStyle}"
                           HorizontalAlignment="Center" />

                <TextBlock Text="A local AI workstation for your RTX GPU."
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           HorizontalAlignment="Center" />

                <TextBlock Text="Everything runs locally on your machine."
                           Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                           HorizontalAlignment="Center"
                           Margin="0,8,0,0" />
            </StackPanel>

            <!-- Empty Session State -->
            <StackPanel x:Name="EmptySessionState"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Spacing="12"
                        Visibility="Collapsed">
                <FontIcon Glyph="&#xE90A;"
                          FontSize="32"
                          Foreground="{ThemeResource TextFillColorTertiaryBrush}"
                          HorizontalAlignment="Center" />

                <TextBlock Text="This session is empty"
                           Style="{StaticResource BodyStrongTextBlockStyle}"
                           HorizontalAlignment="Center" />

                <TextBlock Text="Enter a prompt to begin."
                           Foreground="{ThemeResource TextFillColorSecondaryBrush}"
                           HorizontalAlignment="Center" />
            </StackPanel>

            <!-- Message List (shown when session has messages) -->
            <ScrollViewer x:Name="MessageScrollViewer"
                          Visibility="Collapsed">
                <ItemsControl x:Name="MessageList"
                              Padding="24"
                              MaxWidth="{StaticResource MessageMaxWidth}"
                              HorizontalAlignment="Center">
                    <!-- Messages will be populated dynamically -->
                </ItemsControl>
            </ScrollViewer>
        </Grid>

        <!-- Input Composer Control Panel -->
        <local:InputComposer Grid.Row="1" x:Name="InputComposer" />
    </Grid>
</UserControl>
